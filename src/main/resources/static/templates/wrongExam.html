<!DOCTYPE html>
<!--[if IE 8]> <html lang="en" class="ie8 no-js"> <![endif]-->
<!--[if IE 9]> <html lang="en" class="ie9 no-js"> <![endif]-->
<!--[if !IE]><!-->
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<html lang="en" class="no-js"> <!--<![endif]-->
<!-- BEGIN HEAD -->
<head>
    <meta charset="utf-8" />
    <title>垃圾分类回收宣传网首页</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <meta content="" name="description" />
    <meta content="" name="author" />
    <meta name="MobileOptimized" content="320">
    <!-- BEGIN GLOBAL MANDATORY STYLES -->
    <link href="../assets/plugins/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css"/>
    <link href="../assets/plugins/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
    <link href="../assets/plugins/uniform/css/uniform.default.css" rel="stylesheet" type="text/css"/>
    <!-- END GLOBAL MANDATORY STYLES -->
    <!-- BEGIN THEME STYLES -->
    <link href="../assets/css/style-metronic.css" rel="stylesheet" type="text/css"/>
    <link href="../assets/css/style.css" rel="stylesheet" type="text/css"/>
    <link href="../assets/css/style-responsive.css" rel="stylesheet" type="text/css"/>
    <link href="../assets/css/plugins.css" rel="stylesheet" type="text/css"/>
    <link href="../assets/css/themes/default.css" rel="stylesheet" type="text/css" id="style_color"/>
    <link href="../assets/css/custom.css" rel="stylesheet" type="text/css"/>
    <link href="../assets/css/pages/news.css" rel="stylesheet" type="text/css"/>
    <!-- END THEME STYLES -->
    <link rel="shortcut icon" href="favicon.ico" />
    <!-- BEGIN PAGE LEVEL STYLES -->
    <link rel="stylesheet" type="text/css" href="../assets/plugins/select2/select2_metro.css" />
    <link rel="stylesheet" href="../assets/plugins/data-tables/DT_bootstrap.css" />
    <link href="../assets/plugins/gritter/css/jquery.gritter.css" rel="stylesheet" type="text/css"/>

<!-- BEGIN HEADER -->

</head>
<!-- END HEAD -->
<!-- BEGIN BODY -->
<body class="page-header-fixed page-full-width" style="background-color: white">
<!-- BEGIN HEADER -->
<div class="header navbar navbar-inverse navbar-fixed-top">
    <!-- BEGIN TOP NAVIGATION BAR -->
    <div class="header-inner">
        <!-- BEGIN HORIZANTAL MENU -->
        <div class="hor-menu hidden-sm hidden-xs" style="margin-left: 30%">
            <ul class="nav navbar-nav">
                <li>
                    <a href="/index/toIndexPage">
                        首页
                    </a>
                </li>
                <li>
                    <a href="/news/toNewsList">新闻资讯</a>
                </li>
                <li>
                    <a href="/garbageLaw/toLawsList">法律法规</a>
                </li>
                <li>
                    <a href="/index/toDataVisualPage">看数据</a>
                </li>
                <li>
                    <a href="/question/toTestPaper">答题</a>
                </li>
                <li>
                    <a data-toggle="dropdown" data-hover="dropdown" data-close-others="true" class="dropdown-toggle" href="">垃圾分类
                        <i class="fa fa-angle-down"></i>
                    </a>
                    <ul class="dropdown-menu">
                        <li><a href="/garbage/toQueryGarbage">垃圾分类查询</a></li>
                        <li><a href="/garbage/toAllgartbagePage">垃圾分类大全</a></li>
                    </ul>
                </li>
                <li>
                    <span class="hor-menu-search-form-toggler">&nbsp;</span>
                    <div class="search-form">
                        <form class="form-search">
                            <div class="input-group">
                                <input type="text" placeholder="Search..." class="form-control">
                                <div class="input-group-btn">
                                    <button type="button" class="btn"></button>
                                </div>
                            </div>
                        </form>
                    </div>
                </li>
            </ul>
        </div>
        <!-- END HORIZANTAL MENU -->
        <!-- BEGIN RESPONSIVE MENU TOGGLER -->
        <!--        <a href="javascript:;" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">-->
        <!--            <img src="assets/img/menu-toggler.png" alt="" />-->
        <!--        </a>-->
        <!-- END RESPONSIVE MENU TOGGLER -->
        <!-- BEGIN TOP NAVIGATION MENU -->
        <ul class="nav navbar-nav pull-right" th:object="${session.cur_user}">
            <!-- BEGIN USER LOGIN DROPDOWN -->
            <li class="dropdown user" th:if="${#object!= null}">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown" data-hover="dropdown" data-close-others="true">
                    <img alt="" src="../assets/img/avatar1_small.jpg"/>
                    <span class="username" th:text="${#object.userName}"></span>
                    <i class="fa fa-angle-down"></i>
                </a>
                <ul class="dropdown-menu inlogin">
                    <li><a href="/users/toProfile"><i class="fa fa-user"></i>个人设置</a></li>
                    <li><a href="/wrongQuestion/toWrongQuestionPage"><i class="fa fa-calendar"></i> 我的错题本</a></li>
                    <li class="divider"></li>
                    <li><a href="/users/logout"><i class="fa fa-key"></i>退出登录</a></li>
                </ul>
            </li>
            <!-- END USER LOGIN DROPDOWN -->

            <li class="dropdown user" th:if="${#object== null}">
                <a href="/users/toLogin" class="dropdown-toggle">
                    <img alt="" src="../assets/img/avatar1_small.jpg"/>
                    <span class="username">未登录</span>
                </a>
            </li>
        </ul>
        <!-- END TOP NAVIGATION MENU -->
    </div>
    <!-- END TOP NAVIGATION BAR -->
</div>
<!-- END HEADER -->
<div class="clearfix"></div>
<!-- BEGIN CONTAINER -->
<div class="page-container">
    <!-- BEGIN EMPTY PAGE SIDEBAR -->

    <!-- END EMPTY PAGE SIDEBAR -->
    <!-- BEGIN PAGE -->
    <div class="page-content">
        <!-- BEGIN PAGE CONTENT-->
        <div class="row" style="margin-top: 5%">
            <div class="col-md-8">
                <!-- BEGIN EXAMPLE TABLE PORTLET-->
                <div class="portlet box blue">
                    <div class="portlet-title">
                        <div class="caption"><i class="fa fa-edit"></i>错题列表</div>
                        <div class="tools">
                            <a href="javascript:;" class="collapse"></a>
                            <a href="#portlet-config" data-toggle="modal" class="config"></a>
                            <a href="javascript:;" class="reload"></a>
                            <a href="javascript:;" class="remove"></a>
                        </div>
                    </div>
                    <div class="portlet-body">
                        <table class="table table-striped table-hover table-bordered" >
                            <thead>
                            <tr>
                                <td>序号</td>
                                <th style="width: 80%">题目</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr th:onclick="'javascript:showTopic('+${questonDto.wqId}+')'" th:each="questonDto,questonDtoStat:${questionDtoList}">
                                <td th:text="${questonDtoStat.index+1}"></td>
                                <td th:text="${questonDto.questionTitle}"></td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                    <div style="align-items: center">
                        <ul class="pagination">
                            <li th:class="${wrongExamModel.prePage==0}?'prev disabled'"><a th:href="@{'/wrongQuestion/toWrongQuestionPage?pageNum='+${wrongExamModel.prePage}}"><i class="fa fa-angle-left"></i></a></li>
                            <li th:each="num:${wrongExamModel.navigatepageNums}" th:class="${num==pageNum}?'active'"><a th:href="@{'/wrongQuestion/toWrongQuestionPage?pageNum='+${num}}" >[[${num}]]</a></li>
                            <li th:class="${wrongExamModel.nextPage==0}?'next disabled'"><a th:href="@{'/wrongQuestion/toWrongQuestionPage?pageNum='+${wrongExamModel.nextPage}}"><i class="fa fa-angle-right"></i></a></li>
                        </ul>
                    </div>
                </div>
                <!-- END EXAMPLE TABLE PORTLET-->
            </div>
            <div id="wrongTopic" class="col-md-4" style="display: none;height: 500px;border: 1px solid black">
                <div>
                    <p id="questionTitle"></p>
                </div>
                <div class="radio-list">
                    <label>
                        <input style="display: inline" type="radio" id="chooseA" name="chooseResult"  readonly disabled>
                        <p style="display: inline"  id="chooseAText"></p>
                    </label>
                    <label>
                        <input style="display: inline" type="radio" id="chooseB" name="chooseResult" readonly disabled>
                        <p style="display: inline"  id="chooseBText"></p>
                    </label>
                    <label>
                        <input style="display: inline" type="radio" id="chooseC" name="chooseResult" readonly disabled>
                        <p  style="display: inline"  id="chooseCText"></p>
                    </label>
                    <label>
                        <input style="display: inline" type="radio" id="chooseD" name="chooseResult" readonly disabled>
                        <p style="display: inline"  id="chooseDText"></p>
                    </label>
                </div>
                <div style="margin-top: 5%">
                    <p id="rightAnswer"></p>
                </div>
                <div id="showCharts" style="height: 300px;">

                </div>
            </div>
        </div>
    </div>
</div>
<!-- END PAGE -->
</div>
<div>

</div>
<!-- END CONTAINER -->
<!-- BEGIN FOOTER -->
<div class="footer">
    <div class="footer-inner">
        ysh GraduateProject 2020
    </div>
    <div class="footer-tools">
			<span class="go-top">
			<i class="fa fa-angle-up"></i>
			</span>
    </div>
</div>
<!-- END FOOTER -->
<!-- BEGIN JAVASCRIPTS(Load javascripts at bottom, this will reduce page load time) -->
<!-- BEGIN CORE PLUGINS -->
<!--[if lt IE 9]>
<script src="../assets/plugins/excanvas.min.js"></script>
<script src="../assets/plugins/respond.min.js"></script>
<![endif]-->
<script src="../assets/plugins/jquery-1.10.2.min.js" type="text/javascript"></script>
<script src="../assets/plugins/jquery-migrate-1.2.1.min.js" type="text/javascript"></script>
<script src="../assets/plugins/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
<script src="../assets/plugins/bootstrap-hover-dropdown/twitter-bootstrap-hover-dropdown.min.js" type="text/javascript" ></script>
<script src="../assets/plugins/jquery-slimscroll/jquery.slimscroll.min.js" type="text/javascript"></script>
<script src="../assets/plugins/jquery.blockui.min.js" type="text/javascript"></script>
<script src="../assets/plugins/jquery.cookie.min.js" type="text/javascript"></script>
<script src="../assets/plugins/uniform/jquery.uniform.min.js" type="text/javascript" ></script>

<link rel="stylesheet" href="../css/reset.css" type="text/css" media="all" />
<link rel="stylesheet" href="../css/nivoslider.css" type="text/css" media="all" />
<link rel="stylesheet" href="../css/prettyPhoto.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../css/style.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../css/responsive.css" type="text/css" media="all" />

<link rel="shortcut icon" href="images/favicon.ico" />
<script type="text/javascript" src="../js/jquery-1.7.1.min.js"></script>
<script type="text/javascript" src="../js/jquery.nivo.slider.pack.js"></script>
<script type="text/javascript" src="../js/jquery.carouFredSel-5.6.2.js"></script>
<script type="text/javascript" src="../js/jquery.prettyPhoto.js"></script>
<script type="text/javascript" src="../js/jquery.sticky.js"></script>
<script type="text/javascript" src="../js/jquery-scroller-v1.min.js"></script>
<script type="text/javascript" src="../js/kendo.web.min.js"></script>
<script type="text/javascript" src="../js/custom.js"></script>
<script src="../assets/scripts/echarts.min.js" type="text/javascript"></script>
<!-- END CORE PLUGINS -->

<!-- BEGIN PAGE LEVEL PLUGINS -->
<script type="text/javascript" src="../assets/plugins/select2/select2.min.js"></script>
<script type="text/javascript" src="../assets/plugins/data-tables/jquery.dataTables.js"></script>
<script type="text/javascript" src="../assets/plugins/data-tables/DT_bootstrap.js"></script>
<!-- END PAGE LEVEL PLUGINS -->
<!-- BEGIN PAGE LEVEL SCRIPTS -->
<script src="../assets/scripts/app.js"></script>
<script src="../assets/scripts/table-editable.js"></script>
<script src="../assets/scripts/ui-general.js"></script>
<script type="text/javascript" src="../assets/plugins/gritter/js/jquery.gritter.js"></script>
<script>
    jQuery(document).ready(function() {
        // initiate layout and plugins
        App.init();
        TableEditable.init();
        UIGeneral.init();
    });

    function refreshChartsData(seriesData) {
        var legendData=['正确次数','错误次数'];
        var dat=seriesData
        //设置charts图
        //绘制图
        option = {
            title: {
                text: '用户本题情况统计',
                left: 'center'
            },
            tooltip: {
                trigger: 'item',
                formatter: '{a} <br/>{b} : {c} ({d}%)'
            },
            legend: {
                type: 'scroll',
                orient: 'vertical',
                right: 10,
                top: 20,
                bottom: 20,
                data: legendData
            },
            series: [
                {
                    name: '答题情况',
                    type: 'pie',
                    radius: '55%',
                    center: ['40%', '50%'],
                    data: seriesData,
                    emphasis: {
                        itemStyle: {
                            shadowBlur: 10,
                            shadowOffsetX: 0,
                            shadowColor: 'rgba(0, 0, 0, 0.5)'
                        }
                    }
                }
            ]
        };
        var myChart = echarts.init(document.getElementById('showCharts'));
        // 使用刚指定的配置项和数据显示图表。
        myChart.setOption(option);
    }

    function showTopic(wqId) {
        $.ajax({
            url:"/wrongQuestion/getWrongQeustionDto?wqId="+wqId,
            type:"GET",
            success:function(data){
                if(data.usersAnser=="A"){
                    $('#chooseA').prop("checked",true);
                    $('#chooseB').prop("checked",false);
                    $('#chooseC').prop("checked",false);
                    $('#chooseD').prop("checked",false);
                }
                if(data.usersAnser=="B"){
                    $('#chooseA').prop("checked",false);
                    $('#chooseB').prop("checked",true);
                    $('#chooseC').prop("checked",false);
                    $('#chooseD').prop("checked",false);
                }
                if(data.usersAnser=="C"){
                    $('#chooseA').prop("checked",false);
                    $('#chooseB').prop("checked",false);
                    $('#chooseC').prop("checked",true);
                    $('#chooseD').prop("checked",false);
                }
                if(data.usersAnser=="D"){
                    $('#chooseA').prop("checked",false);
                    $('#chooseB').prop("checked",false);
                    $('#chooseC').prop("checked",false);
                    $('#chooseD').prop("checked",true);
                }
                $('#chooseAText').text("A:"+data.chooseDto.a);
                $('#chooseBText').text("B:"+data.chooseDto.b);
                $('#chooseCText').text("C:"+data.chooseDto.c);
                $('#chooseDText').text("D:"+data.chooseDto.d);
                $('#questionTitle').text(data.questionTitle);
                $('#rightAnswer').text("正确答案为："+data.rightAnswer);
                var rightTimes=data.answerTimes-data.answeWrongTimes;
                var seriesData=[];
                seriesData.push({
                    name:"正确次数",
                    value:rightTimes
                });
                seriesData.push({
                    name:"错误次数",
                    value:data.answeWrongTimes
                });
                refreshChartsData(seriesData);
            },
            error:function(err){
            }
        })
        document.getElementById("wrongTopic").style.display="block";
    }

</script>
<!-- END JAVASCRIPTS -->
</body>
<!-- END BODY -->
</html>